<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>–®–∏—Ñ—Ä–∞—Ç–æ—Ä by woods</title>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: #f4f6f9;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .container {
    background: white;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    width: 90%;
    max-width: 600px;
    text-align: center;
  }

  h2 {
    margin-bottom: 20px;
    color: #333;
  }

  textarea, input {
    width: 100%;
    padding: 12px;
    margin-top: 10px;
    margin-bottom: 20px;
    border-radius: 10px;
    border: 1px solid #ccc;
    font-size: 16px;
    resize: none;
  }

  button {
    background-color: #4f46e5;
    color: white;
    border: none;
    padding: 12px 20px;
    margin: 5px;
    border-radius: 10px;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.3s;
  }

  button:hover {
    background-color: #4338ca;
  }

  .footer {
    margin-top: 30px;
    font-size: 14px;
    color: #888;
  }
</style>
</head>
<body>

<div class="container">
  <h2>üîê –®–∏—Ñ—Ä–∞—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞</h2>

  <label>–¢–µ–∫—Å—Ç –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è / —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏:</label>
  <textarea id="inputText" rows="5" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å..."></textarea>

  <label>–ö–ª—é—á (—Å–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–ª–æ–≤–æ):</label>
  <input type="text" id="key" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á" />

  <div>
    <button onclick="encrypt()">–ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
    <button onclick="decrypt()">–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
  </div>

  <label>–†–µ–∑—É–ª—å—Ç–∞—Ç:</label>
  <textarea id="outputText" rows="5" placeholder="–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç..."></textarea>

  <div class="footer">by woods</div>
</div>

<script>
    const realPassword = "–º–∞–≥–Ω–æ–ª–∏—è";

  let input = prompt("–í–≤–µ–¥–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–ª–æ–≤–æ:");
  if (input !== realPassword) {
    document.body.innerHTML = "<h1>‚õî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω</h1>";
    throw new Error("Wrong password");
  }
function stringToBytes(str) {
  return new TextEncoder().encode(str);
}

function bytesToString(bytes) {
  return new TextDecoder().decode(bytes);
}

function xorBytes(data, keyBytes) {
  let result = new Uint8Array(data.length);
  for (let i = 0; i < data.length; i++) {
    result[i] = data[i] ^ keyBytes[i % keyBytes.length];
  }
  return result;
}

function bytesToBase64(bytes) {
  let binary = '';
  for (let b of bytes) {
    binary += String.fromCharCode(b);
  }
  return btoa(binary);
}

function base64ToBytes(base64) {
  let binary = atob(base64);
  let bytes = new Uint8Array(binary.length);
  for (let i = 0; i < binary.length; i++) {
    bytes[i] = binary.charCodeAt(i);
  }
  return bytes;
}

function encrypt() {
  let text = document.getElementById('inputText').value;
  let key = document.getElementById('key').value.trim();
  if (!key) {
    alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è!");
    return;
  }
  let textBytes = stringToBytes(text);
  let keyBytes = stringToBytes(key);
  let xored = xorBytes(textBytes, keyBytes);
  let base64 = bytesToBase64(xored);
  document.getElementById('outputText').value = base64;
}

function decrypt() {
  let base64 = document.getElementById('inputText').value;
  let key = document.getElementById('key').value.trim();
  if (!key) {
    alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏!");
    return;
  }
  try {
    let xored = base64ToBytes(base64);
    let keyBytes = stringToBytes(key);
    let decryptedBytes = xorBytes(xored, keyBytes);
    let decryptedText = bytesToString(decryptedBytes);
    document.getElementById('outputText').value = decryptedText;
  } catch (e) {
    alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–µ. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ–∫—Å—Ç –∏ –∫–ª—é—á –≤–µ—Ä–Ω—ã.");
  }
}
</script>
</body>
</html>
